#!/usr/bin/env jiig-run

"""
Tzar archive manager.

Jiig-based tool to create and manage archives of the working folder.
"""

import jiig

# Register custom task runner.
from tzar.internal.task_runner import create_runner     # noqa

# Common options (below) need to know what methods are available.
from tzar.methods import gz, files, xz, zip             # noqa

# Register the tool, including common options and arguments. This must occur
# prior to registering tasks so that common options/arguments are available.
jiig.tool(
    name='tzar',
    description='Simple archive manager',
    common_footnotes={
        'age_option': '''
Age strings are one or more summed values separated by '+'. A value is a number
trailed by a "ymwdHMS" unit letter.
''',
        'destructive': 'Destructive operations require confirmation by default.',
    }
)

# With common options/arguments registered, tasks can be registered also.
from jiig.tasks import alias, help, unittest, venv                  # noqa
from tzar.tasks import catalog, compare, delete, list, prune, save  # noqa
